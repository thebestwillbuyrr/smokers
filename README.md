# Отчёт по задаче «Курильщики»

**Автор:** Нвер Мсрян  
**Группа:** БПИ-245  
**Вариант:** 10
## 1. Условие варианта

В задаче есть три курильщика и один посредник.  
Каждый курильщик постоянно крутит сигареты и для этого использует свой компонент:
kurильщик 0 — табак,курильщик 1 — бумага,курильщик 2 — спички  

Посредник через случайные промежутки времени кладёт на стол два случайных компонента.Курильщик, у которого есть третий компонент, забирает их, крутит сигарет курит после чего снова ждёт.  

## 2. Как я понял задачу 
Есть стол, на него посредник кладёт два компонента.  
На выбор курильщик реагирует только тогда когда:

1. два компонента подходят под его недостающий,
2. он в данный момент не курит.

Курильщик забирает набор - крутит сигарету - какое-то время курит - освобождается.  
Посредник всё это время либо ждёт, либо уже готовит следующий набор.

## 3. Программа 1 

**Симуляция в одном процссе-родителе**, который создаёт 4 дочерних процесса:
- 3 курильщика  
- 1 посредника  
Используются:
- неименованные POSIX семафоры
- POSIX shared memory (через `mmap`)
Программа  завершается по `Ctrl+C`, закрывает семафоры и освобождает память.
## 4. Программа 2 

Теперь процессы запускаются **раздельно**:

- `p2_agent`
- `p2_smoker 0`
- `p2_smoker 1`
- `p2_smoker 2`

Используются:

- **именованные семафоры**
- общая разделяемая память (shm_open)

Каждый процесс работает в своём терминале.  
Завершение — снова через `Ctrl+C` в агенте.

## 5. Программа 3 

Добавляется **наблюдатель**, который читает события через именованный FIFO.

Запускаются:

- `p3_agent`
- `p3_smoker N`
- `p3_observer`


## 6. Программа 4
Отличие от P3 — теперь наблюдателей может быть несколько.  
